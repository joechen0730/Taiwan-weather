webpackJsonp([1],{ATQa:function(t,e){},JZt5:function(t,e){},Jnjw:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),i=a("Gu7T"),s=a.n(i),c=a("g1pc"),o=a.n(c),r=[{name:"台灣",engname:"Taiwan",pic:"https://www.articlelike.com/timthumb/index.php?src=https://www.articlelike.com/manage/0/product/18907/1477531184_534.jpg",name_id:1668284},{name:"基隆市",engname:"Keelung",pic:"https://cdn2.ettoday.net/images/2658/d2658598.jpg",name_id:6724654},{name:"新北市",engname:"Taipei",pic:"http://2.bp.blogspot.com/-3KIZPCuhFXY/UhSSbFRt3OI/AAAAAAAALDI/R2-luUG5a_k/s1600/DSC_9749_2.jpg",name_id:7280290},{name:"臺北市",engname:"Taipei",pic:"https://images.pexels.com/photos/260566/pexels-photo-260566.jpeg?auto=compress&cs=tinysrgb&h=350",name_id:7280290},{name:"桃園市",engname:"Taoyuan",pic:"https://s1.yimg.com/uu/api/res/1.2/ikiVxFSULCkdwsCSTXYIJg--/YXBwaWQ9eXRhY2h5b247cT03NTs-/http://media.zenfs.com/en/homerun/feed_manager_auto_publish_494/98d64103740018b938649e7f6eb02df1",name_id:1667905},{name:"新竹縣",engname:"Hsinchu",pic:"https://www.bomb01.com/upload/news/original/9aa24b5e3df95e7e39764874cbb83a2c.jpg",name_id:1675151},{name:"新竹市",engname:"Hsinchu",pic:"https://travelimg.yam.com/DATA/ARTICLE/20150731173117358.jpg",name_id:1675151},{name:"臺中市",engname:"Taichung",pic:"http://3.bp.blogspot.com/-Z97JrD_r7lA/Uho8gsuj-PI/AAAAAAAAAh4/Ns2gXdDfe50/s1600/_MG_0613B.jpg",name_id:1668399},{name:"臺南市",engname:"Tainan",pic:"https://img.banbi.tw/20180815134218_24.jpg",name_id:1668352},{name:"高雄市",engname:"Kaohsiung",pic:"https://khh.travel/FileAttPic.ashx?l=1&id=142&w=2048&h=2048",name_id:7280289},{name:"苗栗縣",engname:"Miaoli",pic:"http://cdn.peoplenews.tw/news/67bd1deb-70fa-4c16-8b94-068b38954120.jpg",name_id:1671971},{name:"南投縣",engname:"Nantou",pic:"https://atlbusinessjournal.com/wp-content/uploads/2016/04/unnamed-file.jpg",name_id:1671564},{name:"雲林縣",engname:"Yunlin",pic:"https://2.bp.blogspot.com/-gIfvdUmMZhk/Wlv4IdANfQI/AAAAAAAAYuc/61badeiS45gkkRZNnP1RUUQsegd0wNEjwCLcBGAs/s1600/10.jpg",name_id:1665194},{name:"宜蘭縣",engname:"Yilan",pic:"https://farm6.staticflickr.com/5460/17802300550_ef3e4f80a3_b.jpg",name_id:1674197},{name:"屏東縣",engname:"Pingtung",pic:"http://pic.pimg.tw/djphoto/1372257602-4111062589.jpg",name_id:1670479},{name:"臺東縣",engname:"Taitung",pic:"https://pgw.udn.com.tw/gw/photo.php?u=https://uc.udn.com.tw/photo/2017/07/07/liontravel/3729454.jpg&x=0&y=0&sw=0&sh=0&exp=3600",name_id:1668295},{name:"花蓮縣",engname:"Hualien",pic:"https://blog.hotelscombined.com.tw/wp-content/uploads/2017/07/Beautiful-Cliff-in-Hualien-Taiwan-444281545.jpg",name_id:1674502},{name:"澎湖縣",engname:"Penghu",pic:"https://www.taiwan.net.tw/att/1/big_scenic_spots/pic_653_7.jpg",name_id:1670651},{name:"嘉義縣",engname:"Jiayi Shi",pic:"https://pic.pimg.tw/dosn02/1438063959-1027424140.jpg",name_id:1678836},{name:"嘉義市",engname:"Jiayi Shi",pic:"http://farm9.staticflickr.com/8333/8414685382_810d6daa36_b.jpg",name_id:1678836},{name:"彰化縣",engname:"Chang-hua",pic:"https://pic.pimg.tw/car0126/1526664097-3738108602.jpg?v=1526664128",name_id:1679136},{name:"金門縣",engname:"Xiguoshan",pic:"https://kinmen.travel/image/10363/1024x768",name_id:1675247}],p={name:"HelloWorld",data:function(){return{cityName:"台灣",data:[],taiwan:r,pic:"",c3Taiwan:{id:r[0].name_id,cnt:8}}},computed:{filterName:function(){var t=this,e=t.taiwan.filter(function(e){if(e.name==t.cityName)return t.pic=e.pic,e});return t.data.filter(function(t){if(e[0].engname==t.name)return t})}},methods:{getMap:function(){var t=this,e=d3.geoMercator().center([121,24]).scale(8e3),a=d3.geoPath().projection(e);d3.json("@/../static/taiwan.json",function(e,n){if(e)throw e;d3.select(".map svg").selectAll("path").data(topojson.feature(n,n.objects.County_MOI_1070516).features).enter().append("path").attr("d",a).attr("name",function(t){return t.properties.COUNTYNAME}).attr("fill","rgba(24,81,18,0.85)").attr("stroke","rgba(255, 255, 255, 0.7)").attr("stroke-width","2").on("mouseenter",function(e){d3.select(this).attr("fill","rgba(24,81,18,0.55)"),t.cityName=e.properties.COUNTYNAME}).on("mouseleave",function(t){d3.select(this).attr("fill","rgba(24,81,18,0.85)")})})},getData:function(){var t=this;this.axios.get("https://api.openweathermap.org/data/2.5/group?id=1668284,6724654,7280290,1675151,1668399,7280289,1674197,1667905,1671971,1671564,1665194,1668352,1670479,1668295,1674502,1670651,1675247,1678836,1679136&lang=zh_TW&units=metric&APPID=fe5145f9c52ca061eec3a0ce448c8864").then(function(e){console.log(e.data),t.data=[].concat(s()(e.data.list)),console.log("vm.data",t.data)}).catch(function(t){console.log(t)})},getForecast:function(){this.c3Taiwan.id;var t=this.c3Taiwan.cnt,e="最高溫",a="最低溫",n="x",i=[],s=[],c=[];this.axios.get("https://api.openweathermap.org/data/2.5/forecast?id="+this.c3Taiwan.id+"&lang=zh_TW&units=metric&appid=fe5145f9c52ca061eec3a0ce448c8864&cnt="+t).then(function(t){t.data.list.forEach(function(t){i.push(t.main.temp_max),s.push(t.main.temp_min),c.push(t.dt_txt)}),e=[e].concat(i),a=[a].concat(s),n=[n].concat(c)}).then(function(){o.a.generate({bindto:"#chart",data:{type:"spline",x:"x",xFormat:"%Y-%m-%d %H:%M:%S",columns:[n,e,a],axes:{Maxtemp:"y"}},axis:{x:{type:"timeseries",tick:{format:"%Y-%m-%d %H:%M"},label:{text:"時間",position:"outer-center"}},y:{label:{text:"Y Label",position:"outer-middle"},tick:{format:function(t){return t+"°C"}}},y2:{show:!0,label:{text:"Y2 Label",position:"outer-middle"}}}})}).catch(function(t){console.log(t)})}},mounted:function(){this.getData(),this.getMap()}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("main",{staticClass:"container-fluid"},[a("h1",{staticClass:"text-center"},[t._v("全台即時天氣 Weather In Taiwan")]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"map",style:[t.data.length>1?{backgroundImage:"url("+t.pic+")"}:{backgroundImage:""}]},[a("svg"),t._v(" "),t.data.length>1?a("div",{staticClass:"mapInfo"},[a("h4",[t._v("Weather in "+t._s(t.cityName))]),t._v(" "),a("p",{staticClass:"weatherInfo mb-1"},[t._v("今日氣象")]),t._v(" "),a("p",{staticClass:"weatherInfo mb-1"},[t._v("天氣："+t._s(t.filterName[0].weather[0].description)+" "),a("img",{attrs:{src:"http://openweathermap.org/img/w/"+t.filterName[0].weather[0].icon+".png",alt:""}})]),t._v(" "),a("p",{staticClass:"weatherInfo mb-1"},[t._v("最高溫："+t._s(t.filterName[0].main.temp_max)+"°C")]),t._v(" "),a("p",{staticClass:"weatherInfo mb-1"},[t._v("最低溫："+t._s(t.filterName[0].main.temp_min)+"°C")]),t._v(" "),a("p",{staticClass:"weatherInfo mb-1"},[t._v("平均溫："+t._s(t.filterName[0].main.temp)+"°C")]),t._v(" "),a("p",{staticClass:"weatherInfo mb-1"},[t._v("風速："+t._s(t.filterName[0].wind.speed))])]):t._e()]),t._v(" "),a("div")])]),t._v(" "),a("section",{staticClass:"container-fluid",attrs:{id:"c3-taiwan"}},[a("div",{staticClass:"row "},[a("div",{staticClass:"col-8 mx-auto"},[a("h4",{staticClass:"text-center mb-5"},[t._v("全台各地天氣預報")]),t._v(" "),a("form",{staticClass:"mb-3"},[a("div",{staticClass:"form-row"},[a("div",{staticClass:"col-4 select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.c3Taiwan.id,expression:"c3Taiwan.id"}],attrs:{id:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.c3Taiwan,"id",e.target.multiple?a:a[0])}}},t._l(t.taiwan,function(e){return a("option",{key:e.name,domProps:{value:e.name_id}},[t._v(t._s(e.name))])}))]),t._v(" "),a("div",{staticClass:"col-4 select ml-2"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.c3Taiwan.cnt,expression:"c3Taiwan.cnt"}],attrs:{id:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.c3Taiwan,"cnt",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"8"}},[t._v("一天")]),t._v(" "),a("option",{attrs:{value:"16"}},[t._v("兩天")]),t._v(" "),a("option",{attrs:{value:"24"}},[t._v("三天")]),t._v(" "),a("option",{attrs:{value:"32"}},[t._v("四天")]),t._v(" "),a("option",{attrs:{value:"40"}},[t._v("五天")])])]),t._v(" "),a("div",{staticClass:"col-2"},[a("button",{staticClass:"form-control btn btn-primary",attrs:{type:"submit",placeholder:"Zip"},on:{click:function(e){return e.preventDefault(),t.getForecast(e)}}},[t._v("送出")])])])])]),t._v(" "),t._m(0)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-12"},[e("div",{attrs:{id:"chart"}})])}]};var l={name:"footer-content",mounted:function(){o.a.generate({bindto:"#chart",data:{columns:[["data1",30,200,100,400,150,250],["data2",50,20,10,40,15,25]]}})}},d={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("footer",{staticClass:"container-fluid"},[e("div",{staticClass:"container text-center py-3"},[e("p",{staticClass:"m-0"},[this._v(" © Product made by Joe Chen")]),this._v(" "),e("p",{staticClass:"mb-0"},[this._v("opensource from "),e("a",{attrs:{href:"https://openweathermap.org/"}},[this._v("openweathermap")])])]),this._v(" "),e("div",[e("div",{attrs:{id:"chart"}})])])}]};var u={name:"App",components:{taiwanMap:a("VU/8")(p,m,!1,function(t){a("Jnjw")},null,null).exports,fContent:a("VU/8")(l,d,!1,function(t){a("JZt5")},null,null).exports}},h={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("taiwan-map"),this._v(" "),e("f-content")],1)},staticRenderFns:[]};var g=a("VU/8")(u,h,!1,function(t){a("ATQa")},null,null).exports,_=a("mtWM"),f=a.n(_),v=a("Rf8U"),w=a.n(v);n.a.use(w.a,f.a,o.a),n.a.config.productionTip=!1,new n.a({el:"#app",components:{App:g},template:"<App/>"})}},["NHnr"]);
//# sourceMappingURL=app.1191631bb2fb4eda1f42.js.map